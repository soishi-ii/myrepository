### 基本的なシステムハードウェア
- CPU 演算処理を行う
- メモリ  データを記憶する
- ハードディスク  不揮発性メモリ　大容量
- 入力装置
- 拡張カード  NIC、サウンドカード、モデムカード、ビデオカード、SCSIカード
- USB

### BIOS/UEFI
Basic Input OutputSystem
キーボードやハードディスクなどのデバイスを制御
フラッシュROMに下記個荒れてる
- OSを起動するプログラムをディスクから読み込んで実行
- デバイスの動作を設定
- 基本的な入出力を制御する

#### UEFI
GUIベースのセットアップが利用できる

#### デバイス情報の確認
デバイスファイル    ハードウェアのアクセスを抽象化
/devディレクトリ    デバイスファイルの場所
udev    これらを自動的に作成する仕組み
/procディレクトリ   Linuxカーネルが認識しているデバイス情報。仮想ファイルを持ってる。
lspciコマンド   PCIデバイスの情報を表示 -v -vvでさらに詳細を表示。
PCIデバイス マザボに接続する拡張カード用の接続規格

#### USBデバイス
USB
- デバイスドライバ  ベンダーが提供
- クラスドライバ    標準搭載されている
- lsusbコマンド USBデバイスの情報を表示
-  
###  1.1.5 udev
- User DEVice management
- /dev以下にデバイスファイルを自動的に作成する。
- 作成時、/etc/udev/rules.d以下のファイルが設定使われる。
- D-Bus Desktop Bus アプリケーションをやり取りするための機構

### デバイスドライバのロード
- デバイスドライバ  制御プログラムの一種で、デバイスを利用するために必要
- ロード    必要なデバイスドライバをカーネルに取り込むこと
- lsmodコマンド ロードされたカーネルモジュール
- modprobeコマンド  手動でデバイスドライバをロードするとき`# modprobe e1000`

#### Linuxの起動とシャットダウン
#### 1.2.1 システムが起動するまでの流れ
- BIOS/UEFI ハードウェアの初期化
- ブートローダー    デバイスからメモリにカーネル読み込み
- カーネル  メモリ初期化    
- sytemd    サービス起動
- ログインプロンプト    起動完了

#### 1.2.2 起動時のイベント確認
- dmesgコマンド カーネルが出力したメッセージを蓄えておくバッファの中身を表示する。DisplayMESage
- catコマンド   ファイルの中身を表示する。 concatenate(連結する)
- jounalctlコマンド -kb sytemdからから見れるカーネルのバッファ内容。dmesgと同じ。
  
#### 1.2.3 システムのシャットダウンと起動
- shotdownコマンド  プログラムを適切に終了してシステムを安全に終了させる `shotdown [オプション] 時間 [メッセージ]`
    - -h Halt    停止
    - -r Reboot  再起動
    - -f 起動時にfsckをスキップ
    - -F 起動時にfsckを実行
    - -k Kick them out 警告。シャットダウンしない。
    - -c Cancel 実行中のシャットダウンをキャンセルする
- オプションは分
- shotdown -h 5 "Please logout immediately"

### 1.3 SysVinit
起動をする仕組みのこと。
#### 1.3.1 SysVinitによる起動
- init Linuxで最初に実行されるプロセス
- initが/etc/inittabを読み込む
- initが/etc/rc.sysiniスクリプトを読み込む
- initが/etc/rcスクリプトを実行する
- /etc/rcスクリプトが/etc/rc<欄レベル>.dディレクトリ以下のスクリプトを実行する
あるサービスに手間取るとそれ以降遅くなる。サービスの並列処理もできない。そのためsytemdやUpstarのほうが使われてる。

#### 1.3.2 ランレベル
- 動作モード。どのようなサービスを稼働するか決定できる。
- ディストリビューションによって定義が違う。
- シングルユーザーモード    rootユーザーだけが利用できる特殊な状態。メンテナンス中など一般ユーザーに利用してほしくないときに使う。
  
#### 1.3.3 ランレベルの確認と変更
- runlevelコマンド  現在のランレベルを確認する
- initコマンド  ランレベルを変更する。ただしrootじゃないとできない。
- telinitコマンド   initコマンドと同じ
- wallコマンド  メッセージをユーザー端末に送信。ランレベル変更するとユーザーが一切操作できなくなるため、事前に伝える。

#### 1.3.4 起動スクリプトによるサービスの管理
- /etc/init.d以下にある起動スクリプトを使う
- /etc/rc<ランレベル>.dディレクトリに各ランレベルで起動するサービスのスクリプトファイルがある。`ls /etc/rc3.d`
- /etc/init.d/httpd start   起動スクリプトを使ったサービスの起動
- /etc/init.d/httpd stop    起動スクリプトを使ったサービスの停止

#### 1.3.5 デフォルトのランレベルの設定
- /etc/inittab  デフォルトのランレベルを記述している。
- 




| 単語                                          | コマンド                                      |
| ------------------------------------------- | ----------------------------------------- |
| CPU                                         | コンピュータの中核となる処理装置で、命令の実行を担当する。             |
| メモリ                                         | データやプログラムを一時的に保存する記憶装置。                   |
| ハードディスク                                     | データを長期的に保存するための記憶装置。                      |
| 入力装置                                        | ユーザーが情報をコンピュータに送るための装置（例：キーボード）。          |
| 拡張カード                                       | 機能を追加するためにマザーボードに取り付けるカード（例：グラフィックカード）。   |
| USB機器                                       | USBポートを介して接続される外部機器。                      |
| BIOS/UEFI                                   | コンピュータの起動時にハードウェアを初期化し、OSを読み込むためのプログラム。   |
| デバイスファイル                                    | ハードウェアの抽象化                                |
| /dev                                        | デバイスファイルの場所                               |
| /proc                                       | Linuxカーネルが認識しているデバイス情報                    |
| lspciコマンド                                   | PCIデバイスを表示する                              |
| デバイスドライバ                                    | ハードウェアを利用するためのドライバ。                       |
| クラスドライバ                                     | 最初から搭載されているデバイスドライバ                       |
| lsubコマンド                                    | USBデバイスの情報を表示する                           |
| udev                                        | デバイスファイルをデバイス接続時に自動的に作成する仕組み              |
| D-Bus                                       | アプリケーションからデバイスを利用するための機構                  |
| ロード                                         | カーネルモジュールとして、デバイスドライバをカーネルに取り込むこと         |
| lsmodコマンド                                   | ロードされているカーネルモジュールを確認すること                  |
| modprobeコマンド                                | 手動でロードする                                  |
| dmesgコマンド                                   | システム起動時にカーネルがどのような処理を行ったか確認               |
| catコマンド                                     | 閲覧                                        |
| journalctl -k コマンド                          | dmesgと同じ                                  |
| shutdownコマンド                                | コンピュータをシャットダウンするためのコマンド。                  |
| -h                                          | シャットダウン後に電源を切るオプション。                      |
| -r                                          | シャットダウン後に再起動するオプション。                      |
| ‐f                                          | ファイルシステムのエラーを修復せずシャットダウンするオプション。          |
| -F                                          | ファイルシステムのエラーを修復してからシャットダウンするオプション。        |
| -k                                          | 実際にシャットダウンを行わず、ユーザーに通知するオプション。            |
| -c                                          | 予約されたシャットダウンをキャンセルするオプション。                |
| shutdown -h  +5 "Please logout immediately" | 5分後にシャットダウンし、ログアウトを促すメッセージを表示する。          |
| shutdown -k now "Please logout immediately" | ユーザーにログアウトを促すメッセージを表示するが、実際にシャットダウンは行わない。 |
| shutdown -h 22:00                           | 22時にシャットダウン。                              |
| shutdown -r now                             | 即座に再起動する。                                 |
| SysVinit                                    | Linux起動の仕組み(古い)                           |
| systemd                                     | Linux起動の仕組み(主流)                           |
| ランレベル                                       | どのようなサービスを稼働するか決めるレベル                     |
| 0                                           | シャットダウン状態。                                |
| 1                                           | シングルユーザーモード。                              |
| 2                                           | マルチユーザーモード。                               |
| ３                                           | マルチユーザーモード。                               |
| ４                                           | 予備のランレベル。                                 |
| 5                                           | グラフィカルなマルチユーザーモード。                        |
| 6                                           | 再起動。                                      |
| Sまたはs                                       | シングルモード                                   |
| シングルモード                                     | rootだけが利用できる                              |
| runlevelコマンド                                | 現在のランレベルを表示する                             |
| initコマンド                                    | ランレベルを変更する                                |
| wallコマンド                                    | メッセージをユーザーに送信                             |
| /etc/init.d                                 | SysViniで使われる起動サービスの一覧                     |
| /etc/inittab                                | デフォルトのランレベルが記述されている                       |
| systemd                                     | Linuxシステムの初期化システム。                        |
| systemd-jounrald                            | systemdのログ管理サービス。                         |
| systemd-logind                              | systemdのユーザーセッション管理サービス。                  |
| systemd-networkd                            | systemdのネットワーク設定管理サービス。                   |
| systemd-timesyncd                           | システムの時刻同期を管理するサービス。                       |
| systemd-resolved                            | システムのDNS名前解決を管理するサービス。                    |
| systemd-udevd                               | デバイスのホットプラグやデバイスイベントの処理を行うサービス。           |
| device                                      | コンピューターで使用されるハードウェアや周辺機器。                 |
|                                             |                                           |
| Unit                                        | systemdの処理単位                              |
| service                                     | 各種サービスを起動する                               |
| device                                      | 各種デバイスを示す                                 |
| mout                                        | ファイルシステムをマウントする                           |
| swap                                        | スワップ領域を有効にする                              |
| target                                      | 複数のUnitをグループ化する                           |
| timer                                       | 特定の時間や間隔でジョブを実行するためのシステムデーモン。             |
| systemctlコマンド                               | systemdのサービス管理                            |
| start                                       | サービスを起動する                                 |
| stop                                        | サービスを終了する                                 |
| restart                                     | サービスを起動する                                 |
| reload                                      | サービスの設定を再読み込みする                           |
| status                                      | サービスの稼働状況を表示する                            |
| is-active                                   | サービスが稼働してるか確認                             |
| enable                                      | 自動起動                                      |
| disable                                     | 自動起動しない                                   |
| mask                                        | 手動で起動できないようにする                            |
| unmask                                      | maskの解除                                   |
| list-dependencies                           | Unitの依存関係を調べる                             |
| list-units                                  | 起動している全てのUnitの状態を表示                       |
| list-unit-files                             | 全てのUnitを表示                                |
| reboot                                      | システムを再起動する                                |
| poweroff                                    | システムをシャットダウンする                            |
| system                                      | Postfixサービスを起動する                          |
|                                             |                                           |
