# 第1章 ガバナンス運用設計の理念

## 1-1 AIを活用するために

- 生成AIを活用するにはすべてをローコード化してクラウド化することで準備ができるらしい・・・
- 経営層の79%は活用したいが、60%は明確なビジョンを持っていない
- 結果、個々が利用する傾向になりセキュリティやプライバシーのリスク増
- **市民開発**・・・ユーザーによる開発
- copiotstdio,apps,automate,pages,bi
- 全社導入にはセキュリティとガバナンスの設計が必要

## 1-2 PowerPlatformを運用するために

- 可視化ツールを利用してガバナンスと生産性を両立しよう
- トヨタや三井住友銀行は全社規模で導入してる
- ガバナンスと運用体制を整えて5000人以上の社員が開発してる事例あり
- 様々なサービスと接続できるので、気を付けないと問題が起きる
	- 情報流出
	- アプリ、フローの乱立
	- 容量、実行数制限の圧迫
- データ損失を防ぐ機能ある
- 管理と開発のしやすさはトレードオフ

# 第2章 PowerPlatformを全社利用するための運用体制

## 2-1 「ガバナンス」の意味
- governer(舵を取る)
- 管理や統制を徹底してリスクを軽減する ＋ どこに向かうのか目標への舵取り
- 制限してばかりでは開発が遅くなる
- 効果的にガバナンスを進めるには組織のゴールを明確化し、誰が責任を持つのか、どのような優先度でタスクを進めるのか、整理する

## 2-2 目標の明確化
### PowerPowerPlatform 導入成熟度モデル
- MS本社が成功・失敗事例をもとに作ったガイドライン
- 段階的に成熟度を高めましょう
- 次の各評価項目を5つのレベルで示す。
	- 戦略とビジョン
	- ビジネスバリュー
	- 育成と市民開発者
	- 自動化
	- フュージョンチーム
	- サポート
	- 管理とガバナンス
### 管理とガバナンス
- レベル100 - 初期段階
	- 使用状況把握なしガバナンスなしポリシーなし。
- レベル200 - 再現可能段階
	- IT部門と連携しながら制御するよう取り組む。管理者が使用状況を監視。戦略やポリシーなし。
- レベル300 - 定義済み段階
	- 戦略、監視、ポリシーを組織全体の標準として定義するよう取り組む。測定可能な成功を目指す。
- レベル400 - 利用可能段階
	- 管理と監視ための標準プロセスが定義されており、全ての開発者が標準化された機能を使える。知見を共有している。
- レベル500 - 効率化段階
	- ビジネスの変革やデジタル化に迅速に対応できる状態。AIなどの高度な機能の統合。
![[Pasted image 20250516221832.jpg]]

## 役割の明確化


| 役割                | 責任範囲                          |
| ----------------- | ----------------------------- |
| PowerPlatform管理者  | 組織でサポートするサービスの管理              |
| エグゼクティブスポンサー(経営層) | ビジネスニーズに基づき、プロジェクトの承認やリソース調達、 |
| Microsoft365 管理者  |                               |
| アーキテクチャチーム        |                               |
| サイバーセキュリティチーム     |                               |
| IT運用チーム           |                               |
| コミュニティ・利活用推進リード   |                               |
| データ・情報ガバナンス       |                               |
| 開発者               |                               |
| プロジェクトマネジメントオフィス  |                               |
| 各部の推進担当           |                               |
## タスクの明確化
	・・・なのか？武田薬品工業の成功事例だった
1. 専任チームを結成する
2. いきなり大規模に導入するのではなく小さく始める(5人とか)
	- 早く失敗を体験する
3. 組織に成功例を示す
4. 他人の活用を推進する
5. 組織の専門家とタッグを組む
6. 全社員が活用
-  「PowerPlatform 導入における現状評価」 無料だが英語のみ

# 第3章 環境とデータ損失防止ポリシー
## PowerPlatformの設定


| 単語        | 説明                                                 |
| --------- | -------------------------------------------------- |
| テナント      | 組織全体のセキュリティ設定                                      |
| 環境グループ    | 環境をグループ単位で設定可能な枠                                   |
| 環境        | 組織のビジネスデータ、アプリ、フロー、カスタムCopilot、Webサイトを保存・管理・共有する場所 |
| Dataverse | データプラットフォーム                                        |
| セキュリティロール | Dataverseで設定可能なセキュリティ設定                            |
## テナントとは
- MSクラウドの組織単位にユーザーやライセンス、アプリを管理する枠組み。
- 各テナントごとに独立した管理者、利用者、データ保存領域が与えられる。

## 3-3 環境について
- 組織のビジネスデータ、アプリ、フロー、エージェント、Webサイトを保存・管理・共有する場所
- 1つのテナントに複数のPowerPlatformの環境を作る。
- ロールやセキュリティの設定が可能。
- 環境ごとに管理者がいる。
- ユーザーにアクセス権を設定する必要がある。
- 支社ごと、部署ごと、開発環境ごとに環境を作ったりする。

### Dataverseと環境
- 環境ごとに1つのDataverseがある。
- 現在PowerPlatformで作成したものは 全部Dataverseに保存される。
- 環境は地理的な場所から選択できる。リージョン変更は不可。
- データセンターが冗長構成(東日本と西日本)
### 環境の種類

| 種類                      | 用途・特徴                                    | 使用例                                      |
| ----------------------- | ---------------------------------------- | ---------------------------------------- |
| **既定の環境（Default）**      | テナントに1つ自動生成され、全ユーザーが利用可能                 | - 学習、試作、PoC（簡易な検証）<br>- ガバナンスが難しいので本番非推奨 |
| **Production（本番環境）**    | 業務用途向けに設計された環境。フル機能と SLA 保証              | - 業務アプリの本番運用<br>- ユーザーへの共有や監査対象データを扱う    |
| **Sandbox（サンドボックス）**    | 本番に似た構成で、テスト・開発用に使う。リセットやコピー可能           | - テスト環境- 本番アプリの修正・動作確認                   |
| **Trial（試用）**           | 一時的な評価・検証用（30日間）                         | - デモやPoC<br>- 本番移行前の短期検証                 |
| **Developer（開発者用）**     | Microsoft 365 開発者プログラムで提供。Dataverseも使用可能 | - 個人開発や学習- ISV開発用                        |
| **Dataverse for Teams** | Teams チーム単位での業務アプリ構築や、業務データの簡易管理         | - チーム内のちょっとした業務効率化アプリ                    |
|                         |                                          |                                          |
### マイクロソフト社内の環境戦略
- 環境グループが３つある(環境グループについては後述)

| 環境                      | 作成タイミング    | 権限                           | コネクタ                           | 削除タイミング                            |
| ----------------------- | ---------- | ---------------------------- | ------------------------------ | ---------------------------------- |
| 開発者用                    | 自動作成       | 個人専用・共用不可<br>データ損失防止ポリシー設定あり | ほとんどのコネクタが使える<br>特定のアクションは利用不可 | 長期未使用時に自動削除                        |
| **Dataverse for Teams** | 自動作成       | グループラベルに紐づく                  | ほとんどのコネクタが使える<br>特定のアクションは利用不可 | 長期未使用時に自動削除                        |
| サンドボックス＆本番環境            | 作成時に承認プロセス | 追加のコンプライアンス・ポリシーレビュー         | すべてのコネクタが使える<br>用途に応じてカスタムで設定  | メールで飛んでくる誓約に同意すれば期間延長<br>そうでなければ削除 |
### 環境に対するセキュリティグループの設定
- 環境ごとにアクセス制御を行うためのもの。1つだけ設定できる。
- 環境作成時か、作成済み環境に対して設定する(当たり前では)
- 具体例では"人事部_ALL"という名前で設定していた。
- そのあとにアプリやDataverseでさらに細かいアクセス制御するのが定石らしい。

### マネージド環境で更にセキュアにする
- ガバナンスを重視する場合は**マネージド環境が推奨**される
#### マネージド環境とは
- より高度に監視、一元管理、ガバナンス制御をできるようにした環境。標準の「Production環境」や「Sandbox環境」などに対して、管理機能を拡張するための設定。
- 複数の環境に対して一括で設定を更新できる。(環境グループ)
- 個々の環境やアプリの状況を把握できる。
- **マネージド環境を利用するには、その環境下のユーザーすべてがAppsPremium、AutomatePremiumのいずれかのライセンスが付与されている必要がある。**
- 
#### 環境グループ(マネージド環境)
- 複数の環境をグルーピングし、一括管理できる機能。

#### 環境ルーティング(マネージド環境)
- 個々が作る環境を強制的にコントロールすること
- たとえば「既定の環境」が個々で量産されて手に負えなくなる、なんてことを防ぐ。
#### 環境の作成制御
- 管理者権限をもつユーザーのみ環境を作成できるようにする。
- 管理者は「グローバル管理者」「代行管理者」「D365管理者」「PowerPlatform管理者」のいずれかである必要がある。

## データ損失ポリシー(DLP)
- どのコネクタがどのアクションを利用できるか設定すること。
- テナントごと、環境ごとに設定できる。
- DLPの設定方法が書いてある

### DLPの種類
- 3つの種類のポリシーがある。
	- **業務**・・・よく使うもの
	- **ブロック**・・・使わせないもの。
	- **非ビジネス**・・・ブロック出来ないけど業務と共存させない(Facebookコネクタとか)
- 複数のポリシーを設定できるが、ブロックが最も優先度が高い。
- また全社ポリシー > 固有のポリシーのように組み合わせて使える。

| ポリシー適用範囲                   | 設定内容の例                                                                                                             |
| -------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| テナント(全社ポリシー)               | 組織で絶対使わないコネクタをブロックしとく                                                                                              |
| 既定環境                       | 既定環境は誰でも使えるので最も厳しくポリシーを設定する。<br>ほとんどの組織はM365だけ使えるようにしてるらしい                                                         |
| 開発・テスト・運用環境                | 個々のプロジェクトや全社向けサービスをここで設定する。<br>カスタムコネクタにはURLの許可リストを設定できる。                                                          |
| パワーユーザー向け                  | 既定環境とは別に用意して、より緩く設定する。<br>DataverseやAI Builderなど。<br>*環境ごとに設定するのかしないのか・・・正直よくわからない*                                |
| DLP既定グループ                  | 新規コネクタの設定。<br>**初期設定では「非ビジネス」になってるので通常は「ブロック」に設定するのが推奨。**                                                          |
| 個別環境ポリシー                   | 例外的なポリシーを設定したい環境に使う。<br>全社ポリシーで「特定の環境を除外する」を選択する。                                                                  |
| デスクトップフロー・RPAのDLP(マネージド環境) | ローカルで動作するフローに適用するためのもの。<br>取り扱われるデータは予測できないため、ここでDLPを設定するのは大事。<br>各アクションのカテゴリー単位で制御できる。(ActiveDirectory、クリップボードなど) |
|                            |                                                                                                                    |

# 第4章 テナントのセキュリティを向上させる

## Power Platformにおけるゼロトラストセキュリティ
- 「明示的な検証」、「最小特権アクセス」、「侵害を想定する」の3つの柱に基づく
	- 明示的な検証
		- 多要素認証
		- 条件付きアクセス
	- 最小特権アクセス
		- テナント分離
		- DLPポリシー
	- 侵害を想定する
		- DLPポリシー(モニタリング)
		- IPファイアウォール
		- 監査ログやアクティビティの活用
		- 定期監査によるフィードバックサイクル
- 不正アクセスが発生しても、常に認証と認可の検証を必要とさせることで被害を最小限に抑える。
- 利便性やスピード感を損なわない
- ゼロトラストをベースとしてセキュリティ構成や設定内容を紹介する

## 4-2 テナント全体に対するセキュリティ
### テナント分離で他のテナントとの通信を防ぐ
- **既存設定ではAppsやAutomateでは他の組織のテナントに接続できてしまう。**　それを防ぐ。
- 他テナントへのアクセス、他テナントからのアクセスを防御する。
- 管理センター > セキュリティ > アクセス制御 > テナント分離
	- テナント間接続を制御する